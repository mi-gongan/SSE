# SSE

Server-Sent Events(SSE)는 서버에서 클라이언트로 단방향으로 데이터를 전송하는 웹 기술 중 하나입니다. 이것은 특히 실시간 업데이트를 필요로 하는 상황에서 유용합니다. SSE는 웹 소켓과는 달리 "HTTP 프로토콜"을 통해 통신하며, 특히 단일 연결에서 서버에서 클라이언트로 주기적으로 데이터를 보내는 데 사용됩니다.

다음은 SSE를 사용하는 기본적인 특징들입니다:

1. 단방향 통신: SSE는 서버에서 클라이언트로만 데이터를 전송합니다. 클라이언트에서 서버로의 통신은 지원되지 않습니다.

2. 간단한 구현: SSE는 간단한 구현을 가지고 있습니다. HTML5에서 지원하며, 일반적으로 EventSource 객체를 사용하여 클라이언트 측에서 구현됩니다.

3. 자동 재연결: SSE는 자동으로 재연결을 시도하므로 네트워크 연결이 끊어진 경우에도 다시 연결되어 업데이트를 계속 수신할 수 있습니다.

4. 이벤트 기반 메시지 전송: 서버에서 전송되는 데이터는 이벤트 이름과 함께 전송됩니다. 클라이언트는 특정 이벤트를 수신하고 처리할 수 있습니다.

## 장점

1. 소켓보다는 클라이언트의 배터리 소모량이 적고 서버의 부하가 적고 비용이 적게 듬.
2. 소켓은 자동 재연결을 지원하지 않지만 sse는 지원함
3. 표준기술이라서 IE를 제외한 대부분 브라우저를 지원함.

## 단점

1. 보내줄 이벤트의 객체를 서버 메모리에 저장할 경우 메모리 누수 이슈가 생기기 쉽다.

- 이는 redis의 pub/sub를 사용해서 해결할 수 있다.

2. nginx를 사용할 경우 추가 세팅을 해야한다.

- 참고: https://gong-check.github.io/dev-blog/BE/%EC%96%B4%EC%8D%B8%EC%98%A4/sse/sse/

## 결론

- 양방향 통신이 아닌 단방향 통신으로 해결가능한 기능(ex. 알림) 같은 경우 SSE가 더 효율적인 방법이다.
- 복잡한 어플리케이션일 경우 websocket을 사용하는 방향이 더 좋은 선택지일 경우가 많다.
